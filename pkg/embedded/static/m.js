(function(){var r,s=document.currentScript,o=s.dataset,c=new URL(s.src),i=o.prismeUrl||c.origin,l=location.protocol,a=o.domain||location.host,e=document.referrer.replace(location.host,a),t=function(){return location.toString().replace(location.host,a)};function n(){fetch(i.concat("/api/v1/events/pageviews"),{method:"POST",headers:{"Access-Control-Max-Age":3600,"X-Prisme-Referrer":t(),"X-Prisme-Document-Referrer":e},keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"}),e=t()}window.prisme={trigger:function(n,s){fetch(i.concat("/api/v1/events/custom/",n),{method:"POST",headers:{"Access-Control-Max-Age":3600,"X-Prisme-Referrer":t(),"X-Prisme-Document-Referrer":e,"Content-Type":"application/json"},keepalive:!0,referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(s)})}},n(),window.history&&(r=window.history.pushState,window.history.pushState=function(){r.apply(window.history,arguments),n()},window.addEventListener("popstate",n))})()