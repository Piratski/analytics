(function(){var a,h=document.currentScript,e=h.dataset,m=new URL(h.src),i=e.prismeUrl||m.origin,p=location.protocol,n=e.domain||location.host,f=e.path||location.pathname,r=!!e.manual||!1,c=document.referrer.replace(location.host,n),l="no-referrer-when-downgrade",g="POST",u="Access-Control-Max-Age",s=3600,o="X-Prisme-Referrer";function d(e){return e||(e={}),"url"in e||(r?e.url=location.toString().replace(location.host,n):e.url=location.origin.replace(location.host,n)+f+location.search),e}function t(e){e=d(e),fetch(i.concat("/api/v1/events/pageviews"),{method:"POST",headers:{[u]:s,[o]:e.url.toString(),"X-Prisme-Document-Referrer":c},keepalive:!0,referrerPolicy:l}),c=e.url.toString()}window.prisme={pageview:t,trigger(e,t,n){n=d(n),fetch(i.concat("/api/v1/events/custom/",e),{method:"POST",headers:{[u]:s,[o]:n.url.toString(),"Content-Type":"application/json"},keepalive:!0,referrerPolicy:l,body:JSON.stringify(t)})}},r||(t(),window.history&&(a=window.history.pushState,window.history.pushState=function(){a.apply(window.history,arguments),t()},window.addEventListener("popstate",t)))})()